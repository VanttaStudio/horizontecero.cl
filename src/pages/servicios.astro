---
import MainLayout from '../layouts/MainLayout.astro';
import CardKenos from '../components/CardKenos.astro';

// Definición de Iconos SVG
const iconLeaf = `<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z"/><path d="M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"/></svg>`;
const iconEdu = `<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 10v6M2 10l10-5 10 5-10 5z"/><path d="M6 12v5c3 3 9 3 12 0v-5"/></svg>`;
const iconCycle = `<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"/><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"/></svg>`;
---

<MainLayout title="Horizonte Cero | Servicios">
  
  <div class="background-fixed"></div>

  <div class="main-container">
    
    <div class="header-section">
      <h1 class="title">
        Nuestras <span class="highlight">Soluciones</span>
      </h1>
      <p class="subtitle">
        Conectamos la tecnología con la tierra para crear un futuro sostenible.
      </p>
    </div>

    <div class="cards-grid">
      
      <a href="/agroecologia" class="glass-card hover-trigger">
        <div class="icon-box green">
           <Fragment set:html={iconLeaf} />
        </div>
        <h3>Agroecología Urbana</h3>
        <p>Huertas comunitarias y jardines comestibles. Recuperamos espacios en la ciudad para la soberanía alimentaria.</p>
        <span class="link-text">Ver más →</span>
      </a>

      <a href="/capacitaciones" class="glass-card hover-trigger">
        <div class="icon-box blue">
           <Fragment set:html={iconEdu} />
        </div>
        <h3>Capacitaciones</h3>
        <p>Talleres prácticos y cursos online. Aprende el plan de negocio y técnicas de vermicompostaje paso a paso.</p>
        <span class="link-text">Ver cursos →</span>
      </a>

      <a href="/economiacircular" class="glass-card core-card hover-trigger">
        <div class="core-tag">CORE</div>
        <div class="icon-box core">
           <Fragment set:html={iconCycle} />
        </div>
        <h3>Modelo Circular</h3>
        <p>Tú generas el fertilizante, <span class="highlight-text">nosotros lo comercializamos</span>. Rentabilidad ecológica real.</p>
        <span class="link-text core-link">Descubrir modelo →</span>
      </a>

    </div>

    <CardKenos />

  </div>
</MainLayout>

<style is:global>
    /* Modo Claro: Letras oscuras y Logo Día */
    html:not(.dark) #site-header nav a { color: #1f2937 !important; }
    html:not(.dark) #site-header nav a:hover { color: var(--color-secondary) !important; }
    html:not(.dark) #header-logo { background-image: url('/images/logodia.png') !important; }
    
    /* Modo Oscuro: Letras blancas y Logo Noche */
    html.dark #site-header nav a { color: white !important; }
    html.dark #header-logo { background-image: url('/images/logonoche.png') !important; }
</style>

<style>
  /* --- LAYOUT Y FONDO --- */
  .main-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 160px 20px 80px 20px; /* Padding superior para librar el Header flotante */
    position: relative;
    z-index: 10;
  }

  /* Fondo decorativo fijo */
  .background-fixed {
    position: fixed; inset: 0; z-index: 0; pointer-events: none;
    background-color: #f8fafc; /* Color base claro */
    background-image: 
        radial-gradient(circle at 0% 0%, rgba(74, 222, 128, 0.3), transparent 50%),
        radial-gradient(circle at 100% 100%, rgba(59, 130, 246, 0.2), transparent 50%);
  }
  :global(.dark) .background-fixed {
    background-color: #0f172a; /* Color base oscuro */
    background-image: 
        radial-gradient(circle at 50% 0%, rgba(74, 222, 128, 0.1), transparent 70%);
  }

  /* --- TEXTOS --- */
  .header-section { text-align: center; margin-bottom: 3rem; }
  
  .title { 
    font-size: 3rem; 
    font-weight: 800; 
    margin-bottom: 0.5rem; 
    color: #1e293b; 
    line-height: 1.2;
  }
  :global(.dark) .title { color: white; }
  
  .highlight { color: var(--color-secondary, #4ade80); }
  
  .subtitle { 
    font-size: 1.2rem; 
    color: #475569; 
    max-width: 600px; 
    margin: 0 auto; 
  }
  :global(.dark) .subtitle { color: #94a3b8; }

  /* --- GRID SYSTEM --- */
  .cards-grid {
    display: grid; 
    grid-template-columns: 1fr; 
    gap: 2rem; 
    margin-bottom: 4rem;
  }
  /* Escritorio: 3 columnas */
  @media (min-width: 768px) { 
    .cards-grid { grid-template-columns: repeat(3, 1fr); } 
  }

  /* --- TARJETAS (Glassmorphism Sencillo) --- */
  .glass-card {
    display: flex; flex-direction: column;
    background: white; 
    border: 1px solid #e2e8f0;
    border-radius: 24px; 
    padding: 2rem;
    text-decoration: none; 
    transition: transform 0.3s, box-shadow 0.3s;
    box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05);
  }
  /* Estilo Dark Mode para tarjetas */
  :global(.dark) .glass-card {
    background: rgba(30, 41, 59, 0.7);
    backdrop-filter: blur(10px);
    border-color: rgba(255,255,255,0.1);
  }
  
  /* Hover Efecto */
  .glass-card:hover { 
    transform: translateY(-5px); 
    box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1); 
    border-color: var(--color-secondary); 
  }

  /* Tipografía interna de tarjetas */
  .glass-card h3 { 
    font-size: 1.5rem; font-weight: 700; margin-bottom: 1rem; color: #0f172a; 
  }
  :global(.dark) .glass-card h3 { color: white; }
  
  .glass-card p { 
    color: #64748b; margin-bottom: 1.5rem; line-height: 1.5; flex-grow: 1; 
  }
  :global(.dark) .glass-card p { color: #cbd5e1; }

  /* Enlaces dentro de tarjetas */
  .link-text { color: #2563eb; font-weight: bold; font-size: 0.9rem; }
  :global(.dark) .link-text { color: #60a5fa; }
  .core-link { color: var(--color-secondary); }

  /* --- ICONOS --- */
  .icon-box { 
    width: 56px; height: 56px; border-radius: 12px; 
    display: flex; align-items: center; justify-content: center; 
    margin-bottom: 1.5rem; 
  }
  .icon-box.green { background: #dcfce7; color: #166534; }
  .icon-box.blue { background: #dbeafe; color: #1e40af; }
  .icon-box.core { background: #dcfce7; color: var(--color-secondary); }
  
  /* Ajuste iconos Dark Mode */
  :global(.dark) .icon-box.green { background: rgba(22, 163, 74, 0.2); color: #86efac; }
  :global(.dark) .icon-box.blue { background: rgba(37, 99, 235, 0.2); color: #93c5fd; }
  :global(.dark) .icon-box.core { background: rgba(22, 163, 74, 0.2); }

  /* --- TARJETA CORE (Destacada) --- */
  .core-card { 
    position: relative; 
    overflow: hidden; 
    border: 2px solid var(--color-secondary); 
  }
  .core-tag { 
    position: absolute; top: 0; right: 0; 
    background: var(--color-secondary); color: white; 
    font-size: 0.7rem; font-weight: bold; padding: 4px 12px; 
    border-bottom-left-radius: 12px; text-transform: uppercase;
  }
  .highlight-text { color: var(--color-secondary); font-weight: bold; }

</style>